webpackJsonp([3],{"2HTC":function(e){e.exports={home:"home__2xyY2",bgAnimation:"bgAnimation__jaRZy",home_box:"home_box__itxXH",home_title:"home_title__1toNY",home_error:"home_error__2Qb9b",home_video:"home_video__3LG8c",home_image:"home_image__22pDL"}},fGKZ:function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n("KM04"),u=n("2HTC"),l=n.n(u),h=n("6whb"),m=Object(c.h)(h.a,null),d=function(e){function t(){return o(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.imageSrc;if(this.setState({imageWidth:null,imageHeight:null}),n){var o=new Image;o.onload=function(){t.setState({imageWidth:o.width,imageHeight:o.height})},o.src=n}},t.prototype.render=function(e,t){var n=e.message,o=e.isLoading,i=e.connectionError,r=e.videoSrc,a=e.imageSrc,s=t.imageWidth,u=t.imageHeight,h="";return s&&u&&(h=s/u>window.innerWidth/window.innerHeight?"width: "+(window.innerWidth-100)+"px":"width: "+(window.innerHeight-100)+"px"),Object(c.h)("section",{class:l.a.home},Object(c.h)("div",{class:l.a.home_box},o&&m,r&&!o&&Object(c.h)("video",{class:l.a.home_video,autoplay:!0,loop:!0,src:r}),a&&!o&&Object(c.h)("img",{class:l.a.home_image,src:a,style:h}),n&&!r&&!a&&!o&&Object(c.h)("div",{class:l.a.home_title}," ",n," "),i&&Object(c.h)("div",{class:l.a.home_error},i)))},t}(c.Component),p=n("5Iuc"),f=n("+UHd"),g=n("D9/9");n.d(t,"default",function(){return S});var S=function(e){function t(){r(this,t);var n=a(this,e.call(this));return n.state={message:"Infinum Showoff 2017",isLoading:!0,connectionError:null,videoSrc:null,imageSrc:null},n}return s(t,e),t.prototype.componentWillMount=function(){var e=this;this.pa=new f.a(p.a),this.pa.connect(function(t){return e.onProductiveMessage(t)}).then(function(){return e.pa.fetchChannels()}).then(function(e){return e.find(function(e){return e.tags.includes("productive-abuser")})}).then(function(t){return e.channel=t}).then(function(){return e.setState({isLoading:!1,connectionError:null})}).catch(function(t){if(t instanceof Error)throw t;e.setState({isLoading:!1,connectionError:t.toString()})})},t.prototype.componentWillUnmount=function(){this.pa.disconnect()},t.prototype.onProductiveMessage=function(e){var t=this;Object(g.a)(e);var n=e.text.toLowerCase();if(e.person.id===p.a.presenterPersonId&&n.indexOf("tanja")>=0&&this.setState({message:null,videoSrc:null,imageSrc:"/assets/tanja.png"}),!this.channel||e.channelId!==this.channel.id)return void this.pa.fetchChannel(e.channelId).then(function(e){e.tags.includes("productive-abuser")&&(t.channel=e,t.setState({message:"Hi Ivan!",videoSrc:null,imageSrc:null}))});"let's start"===n?this.setState({message:"Oh really?",videoSrc:null,imageSrc:null}):"oh common"===n?this.setState({message:"Nop!",videoSrc:null,imageSrc:null}):"pls start?"===n?(this.setState({message:"Okay, let's go!",videoSrc:null,imageSrc:null}),setTimeout(function(){return t.setState({message:"State of Producitve"})},5e3)):n.indexOf("gdje je token?")>=0?this.setState({videoSrc:"/assets/gdje-je-token.mp4",message:null}):n.indexOf("gdje je kod?")>=0?this.setState({imageSrc:"/assets/github.png",videoSrc:null,message:null}):"let's abuse productive"===n?this.setState({message:"Welcome to Productive Abuser",videoSrc:null,imageSrc:null}):n.indexOf("music room")>=0&&this.setState({imageSrc:"/assets/music-academy-extra.png",videoSrc:null,message:null})},t.prototype.render=function(e,t){var n=t.message,o=t.isLoading,i=t.connectionError,r=t.videoSrc,a=t.imageSrc;return Object(c.h)(d,{message:n,isLoading:o,connectionError:i,videoSrc:r,imageSrc:a})},t}(c.Component)}});
//# sourceMappingURL=route-home.chunk.785b8.js.map